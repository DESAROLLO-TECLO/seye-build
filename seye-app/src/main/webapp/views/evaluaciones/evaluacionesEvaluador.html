<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Evaluaciones</title>
		<style></style>
	</head>
	<body>
		<section class="content-header">
			<h1>Evaluaciones</h1>
			<ol class="breadcrumb">
				<li><a><i class="fa fa-book"></i>Evaluaciones</a></li>
				<li class="active">Evaluaciones</li>
			</ol>
		</section>
		
		<!-- Main content -->
		<section class="content">
			<form role="form" name="form" novalidate>
				<div class="row">
<!-- 					<div class="col-md-6"> -->
<!-- 						<div class="box box-danger"> -->
<!-- 							<div class="box-header with-border text-center"> -->
<!-- 								<h3 class="box-title">Datos Evaluador</h3> -->
<!-- 							</div> -->
<!-- 							<div class="box-body"> -->
<!-- 								<div class="row"> -->
<!-- 									<div class="col-md-12"> -->
<!-- 										<div class="col-md-4"> -->
<!-- 											<div class="form-group"> -->
<!-- 												<label>Nombre(s):</label> -->
<!-- 												<div class="input-group"> -->
<!-- 													<span>Nombre</span> -->
<!-- 												</div> -->
<!-- 											</div> -->
<!-- 										</div> -->
<!-- 										<div class="col-md-4"> -->
<!-- 											<div class="form-group"> -->
<!-- 												<label>Apellido Paterno:</label> -->
<!-- 												<div class="input-group"> -->
<!-- 													<span>Apellido Paterno</span> -->
<!-- 												</div> -->
<!-- 											</div> -->
<!-- 										</div> -->
<!-- 										<div class="col-md-4"> -->
<!-- 											<div class="form-group"> -->
<!-- 												<label>Apellido Materno:</label> -->
<!-- 												<div class="input-group"> -->
<!-- 													<span>Apellido Materno</span> -->
<!-- 												</div> -->
<!-- 											</div> -->
<!-- 										</div> -->
<!-- 									</div> -->
<!-- 								</div> -->
<!-- 								<div class="row"> -->
<!-- 									<div class="col-md-12"> -->
<!-- 										<div class="col-md-4"> -->
<!-- 											<div class="form-group"> -->
<!-- 												<label>Sede:</label> -->
<!-- 												<div class="input-group"> -->
<!-- 													<span>Sede</span> -->
<!-- 												</div> -->
<!-- 											</div> -->
<!-- 										</div> -->
<!-- 										<div class="col-md-4"> -->
<!-- 											<div class="form-group"> -->
<!-- 												<label>Grupo:</label> -->
<!-- 												<div class="input-group"> -->
<!-- 													<span>Grupo</span> -->
<!-- 												</div> -->
<!-- 											</div> -->
<!-- 										</div> -->
<!-- 										<div class="col-md-4"> -->
<!-- 											<div class="form-group"> -->
<!-- 												<label for="NombreEvaluador">Puesto:</label> -->
<!-- 												<div class="input-group"> -->
<!-- 													<span>Puesto</span> -->
<!-- 												</div> -->
<!-- 											</div> -->
<!-- 										</div> -->
<!-- 									</div> -->
<!-- 								</div> -->
<!-- 							</div> -->
<!-- 						</div> -->
<!-- 					</div> -->
					<div class="col-md-offset-2 col-md-8">
						<div class="box box-danger">
							<div class="box-header with-border text-center">
								<h3 class="box-title">Consulta {{tipoBusquedaEva}}</h3>
							</div>
							<div class="box-body">
<!-- 								<div class="row"> -->
<!-- 									<div class="col-md-12 center"> -->
<!-- 										<div class="form-group center"> -->
<!-- 											<label for="stBusquedaDe" class="labelCheck" title="Busqueda de: {{tipoBusqueda}}"> -->
<!-- 												Busqueda de: -->
<!-- 											</label> -->
<!-- 											<div class="input-group col-md-12 center"> -->
<!-- 												<switcher class="swTeclo" -->
<!-- 													id-check="stBusquedaDe" -->
<!-- 													ng-model="stBusquedaDe" -->
<!-- 													true-label="Evaluados" -->
<!-- 													true-value="1" -->
<!-- 													false-label="Evaluaciones" -->
<!-- 													false-value="0" -->
<!-- 													ng-disabled="busquedaDeDisabled" -->
<!-- 													ng-change="cambiarBusquedaDe(newValue, oldValue)"> -->
<!-- 												</switcher> -->
<!-- 											</div> -->
<!-- 										</div> -->
<!-- 									</div> -->
<!-- 								</div> -->
								<div class="row">
									<div class="col-md-4">
										<div class="form-group">
											<label for="tiposBusqueda">Tipo Búsqueda:</label>
											<div class="input-group">
												<div class="input-group-addon">
													<i class="fa fa-calendar-check-o"></i>
												</div>
												<select class="form-control select2" name="tiposBusqueda" id="tiposBusqueda"
												      ng-model="parametroBusqueda.tipoBusqueda"												      
												      ng-options='option.codigo as option.descripcion for option in filtroTiposBusquedaEvaData'
												      ng-change="realizaValidaciones(3)">
													<option value="">Seleccione</option>
												</select>
											</div>
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group" ng-class="{'has-error': form.valorBusqueda.$invalid && form.valorBusqueda.$dirty}">
											<label for="valorBusqueda">Valor Búsqueda:</label>
											<div class="input-group date">
												<div class="input-group-addon">
													<i class="fa fa-font"></i>
												</div>
												<input type="text" id="valorBusqueda" name="valorBusqueda" 
													class="form-control" ng-model="parametroBusqueda.valorBusqueda" 
													 autocomplete="off" ng-required="vbusReq">
											</div>
											<span ng-if="form.valorBusqueda.$invalid && form.valorBusqueda.$dirty}" ng-style="{color:'red'}">
												El valor a buscar es requerido
											</span>
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group">
											<label for="estatusEva">Estatus de Evaluación:</label>
											<div class="input-group">
												<div class="input-group-addon">
													<i class="fa fa-calendar-check-o"></i>
												</div>
												<select class="form-control select2" name="estatusEva" id="estatusEva"
												      ng-model="parametroBusqueda.estatusEva"
												      ng-options='estatus.idStEncuesta as estatus.nbStEncuesta for estatus in filtroEstatusEvaData'>
													<option value="">Seleccione</option>
												</select>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-4">
										<div class="form-group" ng-class="{'has-error': form.fInicio.$invalid && form.fInicio.$dirty}">
											<label for="fInicio">Fecha Inicio:</label>
											<div class="input-group">
												<div class="input-group-addon">
													<i class="fa fa-calendar"></i>
												</div>
												<input class="form-control inputFecha" id="fInicio" name="fInicio" readonly
													date-picker	idioma-dp="{{currentLanguage}}"	ng-model="parametroBusqueda.startDate"
													elemento="'fFin'" mindate="parametroBusqueda.startDate" ng-required="finiRec"
													options="dateTimePickerOptions" ng-change="realizaValidaciones(1)"/>
											</div>
											<span ng-if="form.fInicio.$invalid && form.fInicio.$dirty" ng-style="{color:'red'}">
												La fecha inicio es requerida
											</span>
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group" ng-class="{'has-error': form.fFin.$invalid && form.fFin.$dirty}">
											<label for="fFin">Fecha Fin:</label>
											<div class="input-group">
												<div class="input-group-addon">
													<i class="fa fa-calendar"></i>
												</div>
												<input class="form-control inputFecha" id="fFin" name="fFin" readonly
													date-picker	idioma-dp="{{currentLanguage}}"	ng-model="parametroBusqueda.endDate"
													elemento="'fInicio'" maxdate="parametroBusqueda.endDate" ng-required="ffinRec"
													options="dateTimePickerOptions" ng-change="realizaValidaciones(2)"/>
											</div>
											<span ng-if="form.fFin.$invalid && form.fFin.$dirty" ng-style="{color:'red'}">
												La fecha fin es requerida
											</span>
										</div>
									</div>
								</div>
								<div class="row" style="margin-top: 1.071rem;">
									<div class="col-md-1"></div>
									<div class="col-md-10 text-center">
										<button class="btn btn-danger" ng-click="consultaEvaluacion()">
											Consultar
										</button>
									</div>
									<div class="col-md-1 box-tools pull-right">
	   									<button type="button" class="btn btn-box-tool btn-danger" ng-click="limpiarCampos()" style="font-size: 1.2rem;"
											data-toggle="tooltip" data-placement="left" title="Limpiar Campos">
											<i class="fa fa-undo"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="row" ng-if="viewpanelConsulta > 0">
					<div class="{{classTablaConsulta}}">
						<div class="box box-danger">
							<div class="box-header row">
								<div class="col-md-6 col-xs-12">
									<h3 class="box-title">
										Registros Encontrados:  {{ (consultaEvaData | filter:view.searchSomething).length | number:0 }}
									</h3>
								</div>
	  						 	<div class="{{classFiltroConsulta}}">
	      						 	<div class="input-group">
						        		<input id="searchsomething" type="text" class="form-control" placeholder="Buscar por filtro" ng-model="view.searchSomething">
										<span class="input-group-addon"><i class="fa fa-search"></i></span>
										<a class="img-rounded" title="Genera Reporte {{parametrosConsulta.tipoBusqueda}}" ng-click="descargarExcel()">
											<span class="pull-right">
												<img src="static/dist/img/excel.png" width="25px;">
											</span>
										</a>
									</div>
						 		</div>
							</div>
							
							<div class="box-body table-responsive">
								<div class="col-md-12" ng-if="viewpanelConsulta == 1">
									<div style="display: block; overflow: auto;">
										<table id="tabla_informacion" class="table table-striped table-hover header-fixed">
											<thead>
												<tr>
													<th sort order="'cdEncuesta'" 		by="order" reverse="reverse" class="text-center" style="width: 50px;">FOLIO</th>
													<th sort order="'nbEncuesta'" 		by="order" reverse="reverse" class="text-center" style="width: 100px;">NOMBRE</th>
					                                <th sort order="'fhVigIni'" 		by="order" reverse="reverse" class="text-center" style="width: 80px;">FECHA INICIO</th>
					                                <th sort order="'fhVigFin'" 		by="order" reverse="reverse" class="text-center" style="width: 80px;">FECHA FIN</th>
					                                <th sort order="'nuEncuestados'"	by="order" reverse="reverse" class="text-center" style="width: 50px;">EVALUADOS</th> 
					                                <th sort order="'aplicacionProm'"	by="order" reverse="reverse" class="text-center" style="width: 50px;">PORCENTAJE <br> APLICACIÓN</th>
					                                <th sort order="'promedio'"			by="order" reverse="reverse" class="text-center" style="width: 50px;">PROMEDIO <br> GENERAL</th>
					                                <th sort order="'efectividad'" 		by="order" reverse="reverse" class="text-center" style="width: 50px;">EFECTIVIDAD</th>
<!-- 					                                <th sort order="'acciones'" 	by="order" reverse="reverse" class="text-center" style="width: 80px;">ACCIONES</th> -->
												</tr>
											</thead>
											<tbody>
												<tr ng-if="(consultaEvaData | filter:view.searchSomething).length < 1">
													<td colspan="8" class="text-center">
														<h4>No se encontraron coincidencias</h4>
													</td>
												</tr>
												<tr dir-paginate="consultaEva in consultaEvaData | filter:view.searchSomething  | orderBy:order:reverse|itemsPerPage: view.rowsPerPage">
													<td class="text-center" style="width: 50px;">
														<a href="#/evaluacionEvaluado/{{consultaEva.idEncuesta}}">
															{{consultaEva.cdEncuesta}}
														</a>
													</td>
													<td class="text-center" style="width: 100px;">
														<a href="#/evaluacionEvaluado/{{consultaEva.idEncuesta}}">
															{{consultaEva.nbEncuesta}}
														</a>
													</td>
													<td class="text-center" style="width: 80px;">{{consultaEva.fhVigIni}}</td>
													<td class="text-center" style="width: 80px;">{{consultaEva.fhVigFin}}</td>
													<td class="text-center" style="width: 50px;">{{consultaEva.nuEncuestados}}</td>
													<td class="text-center" style="width: 50px;">{{consultaEva.aplicacionProm}} %</td>
													<td class="text-center" style="width: 50px;">{{consultaEva.promedio}}</td>
													<td class="text-center" style="width: 50px;">{{consultaEva.efectividad}}</td>
<!-- 													<td class="text-center" style="width: 80px;"> -->
<!-- 														<span ng-show="{{deteccion.stCancelado}} == 0" class="fullWidth"> -->
<!-- 															{{deteccion.estatus}} -->
<!-- 														</span> -->
<!-- 														<popover ng-show="{{deteccion.stCancelado}} == 1"  -->
<!-- 															id="popoverBootstrap"  -->
<!-- 															class="etiquetaCancelado col-md-6 fullWidth" -->
<!-- 															options="opcionesPopover" -->
<!-- 															placement="left" -->
<!-- 															title="<div class='text-center'>{{deteccion.estatus}}</div>" -->
<!-- 															content="<div class='text-center'>{{deteccion.motivoCancelacionVista}}</div>" -->
<!-- 															data-html="true"> -->
<!-- 															{{deteccion.estatus}} -->
<!-- 														</popover> -->
<!-- 														<popover ng-show="{{deteccion.stCancelado}} > 1" -->
<!-- 															id="popoverBootstrap"  -->
<!-- 															class="etiquetaCancelado col-md-6 fullWidth" -->
<!-- 															options="opcionesPopover" -->
<!-- 															placement="left" -->
<!-- 															title="<div class='text-center'>{{deteccion.estatus}}</div>" -->
<!-- 															content="<div class='text-center'>{{deteccion.motivoCancelacion}}</div>" -->
<!-- 															data-html="true"> -->
<!-- 															{{deteccion.estatus}} -->
<!-- 														</popover> -->
<!-- 													</td> -->
												</tr>
											</tbody>
										</table>
									</div>
								</div>
								
<!-- 								<div class="col-md-12" ng-if="viewpanelConsulta == 2"> -->
<!-- 									<div style="display: block; overflow: auto;"> -->
<!-- 										<table id="tabla_informacion" class="table table-striped table-hover header-fixed"> -->
<!-- 											<thead> -->
<!-- 												<tr> -->
<!-- 													<th sort order="'nombre'" 			by="order" reverse="reverse" class="text-center" style="width: 100px;">NOMBRE</th> -->
<!-- 					                                <th sort order="'numEvaluaciones'"	by="order" reverse="reverse" class="text-center" style="width: 50px;">EVALUACIONES</th> -->
<!-- 					                                <th sort order="'acciones'" 		by="order" reverse="reverse" class="text-center" style="width: 80px;">ACCIONES</th> -->
<!-- 												</tr> -->
<!-- 											</thead> -->
<!-- 											<tbody> -->
<!-- 												<tr ng-if="(consultaEvaData | filter:view.searchSomething).length < 1"> -->
<!-- 													<td colspan="3" class="text-center"> -->
<!-- 														<h4>No se encontraron coincidencias</h4> -->
<!-- 													</td> -->
<!-- 												</tr> -->
<!-- 												<tr dir-paginate="consultaEva in consultaEvaData | filter:view.searchSomething  | orderBy:order:reverse|itemsPerPage: view.rowsPerPage"> -->
<!-- 													<td class="text-center" style="width: 100px;">{{consultaEva.nombre}}</td> -->
<!-- 													<td class="text-center" style="width: 50px;">{{consultaEva.numEvaluaciones}}</td> -->
<!-- 													<td class="text-center" style="width: 80px;"> -->
<!-- 														<span ng-show="{{deteccion.stCancelado}} == 0" class="fullWidth"> -->
<!-- 															{{deteccion.estatus}} -->
<!-- 														</span> -->
<!-- 														<popover ng-show="{{deteccion.stCancelado}} == 1"  -->
<!-- 															id="popoverBootstrap"  -->
<!-- 															class="etiquetaCancelado col-md-6 fullWidth" -->
<!-- 															options="opcionesPopover" -->
<!-- 															placement="left" -->
<!-- 															title="<div class='text-center'>{{deteccion.estatus}}</div>" -->
<!-- 															content="<div class='text-center'>{{deteccion.motivoCancelacionVista}}</div>" -->
<!-- 															data-html="true"> -->
<!-- 															{{deteccion.estatus}} -->
<!-- 														</popover> -->
<!-- 														<popover ng-show="{{deteccion.stCancelado}} > 1" -->
<!-- 															id="popoverBootstrap"  -->
<!-- 															class="etiquetaCancelado col-md-6 fullWidth" -->
<!-- 															options="opcionesPopover" -->
<!-- 															placement="left" -->
<!-- 															title="<div class='text-center'>{{deteccion.estatus}}</div>" -->
<!-- 															content="<div class='text-center'>{{deteccion.motivoCancelacion}}</div>" -->
<!-- 															data-html="true"> -->
<!-- 															{{deteccion.estatus}} -->
<!-- 														</popover> -->
<!-- 													</td> -->
<!-- 												</tr> -->
<!-- 											</tbody> -->
<!-- 										</table> -->
<!-- 									</div> -->
<!-- 								</div> -->
							</div>
							<div class="container-fluid">
								<div class="fixed-table-pagination" style="display:block;">
									<rows-per-page rows="view.rowsPerPage" filtro="view.searchSomething" array="consultaEvaData"></rows-per-page>
									
									<div class="pull-right pagination">
										<dir-pagination-controls class="pagination"></dir-pagination-controls>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</section>
	</body>
</html>